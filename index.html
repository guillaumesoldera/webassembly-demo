<html>
    <head>
        <script src="program.js"></script>
        <script>
            function multWasm(a, b) {
                var wasmImports = {
                    env: { logMethod: arg => console.log('Parameter '+arg) }
                };
                fetch('program.wasm').then(response => 
                    response.arrayBuffer()
                ).then(bytes => 
                    WebAssembly.instantiate(bytes, wasmImports)
                ).then(obj => {
                    return obj.instance.exports.mult(a, b)
                })
                .then(res => 
                    document.getElementById('out').innerHTML = res
                );
            }
        </script>
    </head>
    <body>
            <input type="number" id="first" />
            <input type="number" id="second" />
            <button onclick="mult(document.getElementById('first').value, document.getElementById('second').value, console.log)" >Mult</button>
            <button onclick="multWasm(document.getElementById('first').value, document.getElementById('second').value)" >Mult wasm</button>
            <div id="out"></div>
            <!--<script type="text/javascript" src="./index.js"></script>-->
        
    </body>
</html>